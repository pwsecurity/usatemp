<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US IP Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #fff;
        }
        .ip-display {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }
        .location-info {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .generate-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
            transition: transform 0.2s;
        }
        .generate-btn:hover {
            transform: translateY(-2px);
        }
        .status {
            text-align: center;
            margin: 10px 0;
            font-style: italic;
        }
        .flag {
            font-size: 48px;
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="flag">ðŸ‡ºðŸ‡¸</div>
        <h1>United States IP Generator</h1>
        
        <div class="status" id="status">Ready to generate US IP address</div>
        
        <button class="generate-btn" onclick="generateUSIP()">Generate US IP Address</button>
        
        <div class="ip-display" id="ipDisplay" style="display: none;">
            <div id="ipAddress"></div>
        </div>
        
        <div class="location-info" id="locationInfo" style="display: none;">
            <strong>Location:</strong> <span id="location"></span><br>
            <strong>ISP:</strong> <span id="isp"></span><br>
            <strong>Type:</strong> <span id="type"></span>
        </div>
    </div>

    <script>
        // API configuration
        const API_URL = "https://s5proxies.com/admin/api2.php";
        const PROXY_API_KEY = "6666d116b50b8202406100510306666d116b50c5";
        
        async function generateUSIP() {
            const status = document.getElementById('status');
            const ipDisplay = document.getElementById('ipDisplay');
            const locationInfo = document.getElementById('locationInfo');
            
            status.textContent = "Connecting to API for US IP address...";
            
            try {
                // Search for US proxies - any state is fine
                const searchUrl = `${API_URL}?do=search&key=${PROXY_API_KEY}&country=US&records=100&pageno=1`;
                
                const searchResponse = await fetch(searchUrl);
                const searchData = await searchResponse.json();
                
                if (searchData.status && searchData.status.code === "1000" && searchData.data && searchData.data.length > 0) {
                    // Get any US proxy (first available one)
                    const selectedProxy = searchData.data[0];
                    const proxyId = selectedProxy.id;
                    
                    // Purchase the proxy
                    const buyUrl = `${API_URL}?do=buy&key=${PROXY_API_KEY}&id=${proxyId}`;
                    const buyResponse = await fetch(buyUrl);
                    const buyData = await buyResponse.json();
                    
                    if (buyData.status && buyData.status.code === "1000" && buyData.data) {
                        const ipData = buyData.data;
                        const ipAddress = ipData.ipaddress;
                        const port = ipData.port;
                        const username = ipData.username || "";
                        const password = ipData.password || "";
                        const city = ipData.city || "";
                        const region = ipData.region || "";
                        const stateId = ipData.state_id || "";
                        
                        // Display the IP
                        document.getElementById('ipAddress').textContent = `${ipAddress}:${port}`;
                        document.getElementById('location').textContent = `${city}, ${region}`;
                        document.getElementById('isp').textContent = stateId;
                        document.getElementById('type').textContent = "Residential";
                        
                        ipDisplay.style.display = 'block';
                        locationInfo.style.display = 'block';
                        status.textContent = "US IP address generated successfully!";
                        
                        // Store result for Telegram bot
                        const result = {
                            ip: `${ipAddress}:${port}`,
                            location: `${city}, ${region}`,
                            isp: stateId,
                            type: "Residential",
                            country: "United States",
                            username: username,
                            password: password
                        };
                        
                        localStorage.setItem('us_ip_result', JSON.stringify(result));
                        console.log('Generated US IP:', result);
                    } else {
                        throw new Error("Failed to purchase proxy");
                    }
                } else {
                    status.textContent = "No US proxies available at the moment.";
                    throw new Error("No US proxies found");
                }
                
            } catch (error) {
                console.error('Error generating US IP:', error);
                status.textContent = "Error generating US IP address. Please try again.";
                
                // Fallback to dummy data for demonstration
                const fallbackIP = {
                    ip: "192.168.1.100:8080",
                    location: "New York, NY",
                    isp: "Verizon",
                    type: "Residential"
                };
                
                document.getElementById('ipAddress').textContent = fallbackIP.ip;
                document.getElementById('location').textContent = fallbackIP.location;
                document.getElementById('isp').textContent = fallbackIP.isp;
                document.getElementById('type').textContent = fallbackIP.type;
                
                ipDisplay.style.display = 'block';
                locationInfo.style.display = 'block';
            }
        }

        // Auto-generate on page load
        window.onload = function() {
            generateUSIP();
        };
    </script>
</body>
</html>
